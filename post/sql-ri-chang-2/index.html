<!DOCTYPE html>
<html>
  <head>
      
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Jiank</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<meta name="description" content="温故而知新"/>
<meta name="keywords" content="温故而知新"/>

<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
<link rel="shortcut icon" href="https://yooinn.github.io//favicon.ico">

<link rel="stylesheet" href="https://yooinn.github.io//styles/main.css">

<!-- Modernizr JS -->
<script src="https://yooinn.github.io/media/scripts/_vendors/modernizr-2.6.2.min.js"></script>
<!-- FOR IE9 below -->
<!--[if lt IE 9]>
<scripts src="https://yooinn.github.io//media/scripts/_vendors/respond.min.js"></scripts>
<![endif]-->

<!-- Comment -->


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/tomorrow-night.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
<link crossorigin="anonymous" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" href="https://lib.baomitu.com/font-awesome/5.8.1/css/all.min.css" rel="stylesheet">

  </head>
  <body>
  
<div id="fh5co-offcanvas">
    <a href="#!" class="fh5co-close-offcanvas js-fh5co-close-offcanvas">
        <span><i class="icon-cross3"></i> <span>Close</span></span>
    </a>
    <div class="fh5co-bio">
        <figure>
            <img src="https://yooinn.github.io//media/images/avatar.png" alt="Jiank" class="img-responsive">
        </figure>
        <h3 class="heading">ABOUT ME</h3>
        <h2>Jiank</h2>
        <p>温故而知新</p>
        <ul class="fh5co-social">
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
        </ul>
    </div>

    <div class="fh5co-menu">
        <div class="fh5co-box">
            <h3 class="heading">搜索</h3>
            <form action="#">
                <div class="form-group">
                    <input type="text" class="form-control" placeholder="输入关键字">
                </div>
            </form>
        </div>
        <div class="fh5co-box">
            <h3 class="heading">标签</h3>
            <ul>
                
                    <li><a href="https://yooinn.github.io//tag/QRAqbdG_m">django</a></li>
                
                    <li><a href="https://yooinn.github.io//tag/tXH4POF09">python</a></li>
                
                    <li><a href="https://yooinn.github.io//tag/QakZrWwK7">mysql</a></li>
                
                    <li><a href="https://yooinn.github.io//tag/gridea">Gridea</a></li>
                
            </ul>
        </div>
    </div>
</div>

<header id="fh5co-header">
    <div class="container-fluid">
        <div class="row">
            <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
            <ul class="fh5co-social">
                
                    <li>
                        <a href="/"
                         >
                            首页
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives"
                         >
                            归档
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags"
                         >
                            标签
                        </a>
                    </li>
                
                    <li>
                        <a href="/post/about"
                         >
                            关于
                        </a>
                    </li>
                
            </ul>
            <div class="col-lg-12 col-md-12 text-center">
                <h1 id="fh5co-logo">
                    <a href="https://yooinn.github.io/">Jiank</a>
                </h1>
            </div>
        </div>
    </div>
</header>


<!--  <a href="#" class="fh5co-post-prev"><span>👈 Prev</span></a>-->
<!--  <a href="#" class="fh5co-post-next"><span>Next 👉</span></a>-->

  <div class="container-fluid">
      <div class="row fh5co-post-entry single-entry">
          <article class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2 col-xs-12 col-xs-offset-0">
              <figure class="animate-box">
                  
                      <img src="http://ww1.sinaimg.cn/large/006uAO9Fgy1g4gkw3qk8cj30b40b4abe.jpg" alt="sql日常2" class="img-responsive">
                  
              </figure>
              <span class="fh5co-meta animate-box">
                  
              </span>
              <h2 class="fh5co-article-title animate-box">sql日常2</h2>
              <span class="fh5co-meta fh5co-date animate-box">2019-06-12</span>

              <div class="col-lg-12 col-lg-offset-0 col-md-12 col-md-offset-0 col-sm-12 col-sm-offset-0 col-xs-12 col-xs-offset-0 text-left content-article">
                  <div class="row">
                      <div class="col-md-12 animate-box post-content">
                          <p> <blockquote>
<p>1,简单查询语句<br>
从一张表查询数据<br>
2 复杂查询语句</p>
</blockquote>
<pre><code>&gt; 	多表联查（列横向叠加）
&gt; 	内连接。左连接。右连接。全连接。自连接。非等值连接
&gt;   复合查询（查询结果上下 叠加）
&gt;   子查询（关联子查询，非关联子查询）
</code></pre>
<blockquote>
<p>3 select 数据 from table where.. group by ..having..order by</p>
</blockquote>
<pre><code>&gt;   +,-,*,/,and,or,not,&lt;,&gt;,&lt;=,&gt;=,&lt;&gt;,!=,
&gt;   is null,is not null,
&gt;   in 
&gt;  between..and not between..and  范围查询
&gt;  like 模糊查询
</code></pre>
<blockquote>
<p>#查看表中的行数据<br>
<code>&gt; select * from stu;</code><br>
查询stu表中性别为女体重超过60公斤的<br>
<code>&gt; select * from stu where sex='女' and weight&gt;60;</code><br>
查询stu表中分数在500-600之间的男生学生的所有信息<br>
<code>&gt; select * from stu where (cno='1'or cno='2') and sex='男'and height&gt;=190;</code><br>
3.查询stu表中1班或者2班,身高超过190的学生的所有信息</p>
</blockquote>
<pre><code>&gt; select * from stu where (cno='1'or cno='2') and sex='男'and height&gt;=190;
&gt; select * from stu where cno in (1,2) and  height&gt;=190;
</code></pre>
<blockquote>
<p>查询练习<br>
1.查询stu表中性别为女 体重超过69公斤的学生的所有信息<br>
2.<br>
3.查询stu表中3班学生中分数在400-505.5之间的女生<br>
select * from stu where sex='女' and cno='3'score between 400 and 505.5;<br>
4.查询stu表中没有分班的女生<br>
select * from stu where sex='女' and cno is null;<br>
查询stu表中有分班的女生<br>
select * from stu where sex='女' and cno is not null;<br>
6查询stu表中体重低于40公斤且身高低于1.65米的学生,<br>
列出其姓名。身高。体重。总分。以及总分占750分的百分比</p>
<p>select sname,score,weight,height from stu where weight&lt;40 and height&lt;1.65;<br>
sname height  weight score</p>
<p>select sname,weight,height,score,round(score/750*100,1) from stu where height&lt;40 and  height/100&lt;1.65;</p>
<p>7.查询stu表中姓名第二个字是'侯'或者第一个字是'张'且名字只有两个字的学生<br>
select * from stu where sname like'<em>侯%' or sname like '张</em>';</p>
<p>常用数值函数:round(num,n) 四舍五入num 数值 ，n保留小数</p>
<p>查询stu表中1990年出生的学生<br>
select sname,birth from stu;<br>
select sname from stu where year(birth)=08;<br>
year获取年份<br>
month获取月份<br>
查询stu表中8月份出生的学生</p>
</blockquote>
<pre><code>&gt; select sname from stu where month(birth)=08;
&gt; select sname,birth,month(birth) from stu where month(birth)=08;
&gt; 	select	datediff(date1,date2) 计算两个日期之间的天数
&gt; 	select  curdate 获取当前日期
</code></pre>
<pre><code>&gt; 查询stu表中学生的姓名,生日，年龄(保留两位小数),只显示小于20岁的学生. 
&gt; datediff(year,birth)/365 from stu ;
&gt; select sname,birth,round(datediff(curdate(),birth)/365,2) from stu  where round(datediff(curdate(),birth)/365,2)&lt;20;
&gt; select datediff(year,'1984-2-16',getdate())
&gt; select curdate();
&gt; select datediff(curdate(),'2019-6-1');
</code></pre>
<blockquote>
<p>条件判断函数if if(expr,v1,v2) expr是条件 ，满足走v1,否则走v2<br>
如果学生分数大于520分,为优秀生，否则为一般生<br>
，从stu表中查找,显示考分和类型(优秀生,一般生)</p>
<p>select sname,score,if(score&gt;520,'优秀生','一般生')from stu;</p>
<p>case 多重条件判断，比if跟灵活<br>
case when expr1 then v1 when expr2 then v2 else vn end<br>
#700分以上是优秀，600分以上是良好，520分以上中等，否则较差<br>
显示姓名，分数，类型<br>
select sname,score,(case score&gt;=700 then '优秀' when case &gt;=600 then '良好' when score&gt;=520 then '中等' else '较差' end) from stu;</p>
<p>聚合函数 max(最大),min(最小),sum(总和),avg(平均),count(数)<br>
#找出学生中最高的身高，最轻的体重，平均分数，学生总数<br>
select max(height)最大,min(weight),sum(score),avg(score),count(sno) from stu;</p>
<p>distinct 查询除指定的1个或多个字段的不重复记录<br>
select distinct * from stu;</p>
<p>查询stu表中不重复的 班号 和性别<br>
select distinct (cno)班号,(sex)性别 from stu;<br>
#排序<br>
order by增序asc, desc降序<br>
select sname,sex,birth,height,weight from stu order(asc)<br>
按照stu表按照体重增序列出学生信息<br>
select * from stu  order by  weight desc;<br>
展示以分班学员信息,按照班号增序，在按照分数降序<br>
select * from stu where cno is not null order by cno asc,score desc;<br>
select * from stu where cno is not null order by 8 asc,7 desc;</p>
<p>#limit 限制显示几条信息<br>
#查询stu表显示分数最高的三名学生信息<br>
select * from stu order by score desc limit 3;</p>
<p>group by 分组<br>
按照班号分组</p>
</blockquote>
<pre><code>&gt; select cno from stu group by cno;
&gt; select sname,cno from stu group by cno,sname;
</code></pre>
<blockquote>
<p>按照班号分组,统计每个班的平均身高，平均体重，人数，最高分，不包括未分班的同学max()</p>
</blockquote>
<pre><code>&gt; select cno,count(*),avg(height),avg(weight),max(score) from stu where cno is not null group by cno;
</code></pre>
<blockquote>
<p>#查询stu表按照班号分组,在按照性别分组，列出班号，性别，<br>
统计每个班的男女平均身高,平均体重,人数，最高分，不包括未分班同学<br>
结果先按照班号排序，再按照男女排序.<br>
max(最大),min(最小),sum(总和),avg(平均),count(数)<br>
<code>&gt; select cno,sex,avg(height),avg(weight),count(*),max(score) from stu where cno is not null group by cno,sex order by cno,sex;</code><br>
按照学生出生年月份分组，统计每个年份的人数，最高分，最低分，按照年份排序<br>
select year(birth),count(*),max(score),min(score) from stu  group by year(birth) order by year(birth);</p>
<p>having对group by 产生的结果进行过滤， 也可以对聚合函数进行过滤<br>
按照学生出生年月份分组，统计每个年份的人数，最高分，最低分，按照年份排序,并从结果中找出人数超出2个<br>
并且最高分超过600分的年份<br>
select year(birth),count(<em>),max(score),min(score) from stu  group by year(birth) having count(</em>)&gt;2 and max(score)&gt;600 order by year(birth);</p>
<p>#找出已分班学生中,那些平均身高超过175.列出班号和人数<br>
select cno,count(<em>) from stu where cno is not null group by cno having avg(height)&gt;175;<br>
#找出以分班学生中，那些班学生每个人身高超过165，列出班号和人数<br>
select cno,count(</em>) from stu where cno is not null group by cno having min(height)&gt;165;</p>
<p>约束:非空约束 not null ,<br>
主键约束primary ，唯一约束unique key(auto increment),unsigned正数</p>
<p>create table a(id int primary key,age int not null default 18,phone int unique );</p>
<p>insert into a values(1,12,123);<br>
insert into a values(2,12,124);<br>
create table b(id int primary key auto_increment,age int not null default 18,phone int unique );<br>
insert into b values(1,12,123);<br>
insert into b(age,phone) values(12,124);</p>
</blockquote>
 </p>
                      </div>
                  </div>

                  <div class="row">
                      <div class="col-md-12 animate-box">
                          
                              <div class="next-post">
                                  <div class="next">下一篇</div>
                                  <a href="https://yooinn.github.io//post/yong-ming-ling-chuang-jian-mysql-shu-ju-ku">
                                      <h3 class="post-title">
                                          用命令创建MySQL数据库
                                      </h3>
                                  </a>
                              </div>
                          
                      </div>
                  </div>

                  <div class="row">
                      <div class="col-md-12 animate-box">
                          
                      </div>
                  </div>
              </div>

          </article>
      </div>
  </div>

    
<footer id="fh5co-footer">
  <p>Powered by <a href="https://yooinn.github.io/" target="_blank">Gridea</a></p>
</footer>


    
<!-- jQuery -->
<script src="https://yooinn.github.io//media/scripts/vendors/jquery.min.js"></script>
<!-- jQuery Easing -->
<script src="https://yooinn.github.io//media/scripts/vendors/jquery.easing.1.3.js"></script>
<!-- Bootstrap -->
<script src="https://yooinn.github.io//media/scripts/vendors/bootstrap.min.js"></script>
<!-- Waypoints -->
<script src="https://yooinn.github.io//media/scripts/vendors/jquery.waypoints.min.js"></script>
<!-- Main JS -->
<script src="https://yooinn.github.io//media/scripts/vendors/main.js"></script>
<!-- Md5 Min JS -->
<script src="https://yooinn.github.io//media/scripts/vendors/md5.min.js"></script>

<script type="application/javascript">
    hljs.initHighlightingOnLoad();
</script>




  </body>
</html>
